/* =============================
	 CALENDÁRIO MOBILE
	 ============================= */
:host { display: block; }

.mobile-calendar-wrapper { display: flex; flex-direction: column; min-height: 100vh; background:#fff; }

.mobile-header { position: sticky; top:0; background:#ffffff; z-index:10; padding:8px 12px; box-shadow:0 2px 6px rgba(0,0,0,.08); display:flex; flex-direction:column; gap:8px; }
.month-nav { display:flex; align-items:center; justify-content:center; gap:12px; }
.nav-btn { background:#f1f5f9; border:none; width:36px; height:36px; border-radius:8px; font-size:20px; line-height:1; display:flex; align-items:center; justify-content:center; color:#334155; }
.nav-btn:active { background:#e2e8f0; }
.month-title { font-weight:600; font-size:1rem; color:#1f2937; min-width:140px; text-align:center; }

.filters { display:grid; grid-template-columns:1fr auto; gap:6px; align-items:center; }
.search-input { width:100%; padding:8px 10px; font-size:.85rem; border:1px solid #cbd5e1; border-radius:6px; }
.search-input:focus { outline:2px solid #3b82f6; }
.chk-inline { font-size:.65rem; display:flex; align-items:center; gap:4px; color:#475569; }
.date-range { grid-column:1 / -1; display:flex; gap:6px; }
.date-range input { flex:1; padding:6px 8px; font-size:.75rem; border:1px solid #cbd5e1; border-radius:6px; }
.view-switch { grid-column:1 / -1; display:flex; gap:6px; }
.switch-btn { flex:1; padding:6px 8px; font-size:.75rem; border:1px solid #64748b; background:#fff; border-radius:6px; color:#475569; }
.switch-btn.active { background:#007000; color:#fff; border-color:#007000; }
.switch-btn:disabled { opacity:.4; }

.occupancy-mini { display:flex; justify-content:space-around; background:#f8fafc; padding:6px 8px; border-radius:8px; }
.occ-item { display:flex; flex-direction:column; align-items:center; }
.occ-label { font-size:.55rem; color:#64748b; }
.occ-value { font-size:.75rem; font-weight:600; color:#0f172a; }

/* Global view */
.global-view-mobile { flex:1; overflow-y:auto; padding:4px 8px 60px; }
.apartment-list { display:flex; flex-direction:column; gap:10px; }
.apartment-block { background:#ffffff; border:1px solid #e2e8f0; border-radius:12px; padding:6px 8px; box-shadow:0 1px 3px rgba(0,0,0,.06); }
.apt-header { display:flex; align-items:center; gap:8px; padding:4px 0; }
.apt-header.selected { background:#eff6ff; border-radius:8px; }
.apt-color { width:14px; height:14px; border-radius:50%; flex-shrink:0; }
.apt-name { font-size:.85rem; font-weight:600; color:#1e293b; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; }

.days-row { display:flex; overflow-x:auto; gap:4px; padding:4px 2px 2px; scrollbar-width:none; }
.days-row::-webkit-scrollbar { display:none; }
.day-cell { position:relative; flex:0 0 46px; height:54px; background:#f8fafc; border-radius:10px; display:flex; flex-direction:column; align-items:center; justify-content:flex-end; padding:4px 0 4px; font-size:.65rem; color:#334155; box-shadow:0 0 0 1px #e2e8f0; }
.day-cell.today { background:#34D399; /* verde mais claro */ color:#0f172a; box-shadow:0 0 0 2px #34D399; }
.day-cell.today .day-num { font-weight:700; color:#0f172a; }
.day-num { font-size:.7rem; font-weight:600; }

/* Markers (indicadores de reservas) */
.markers { position:absolute; top:6px; left:0; right:0; height:16px; display:flex; align-items:center; justify-content:center; }
.marker { height:10px; border-radius:6px; }
.marker.full { width:36px; }
.marker.half { width:20px; }
.marker.right { margin-left:12px; }
.marker.left { margin-right:12px; }
.marker.duo { width:36px; background:linear-gradient(90deg,#ef4444 50%, #ef4444 50%); }
.marker.mix-air-book { width:36px; background:linear-gradient(90deg,#ef4444 50%, #3b82f6 50%); }
.marker.mix-book-air { width:36px; background:linear-gradient(90deg,#3b82f6 50%, #ef4444 50%); }
.marker.airbnb { background:#ef4444; }
.marker.booking { background:#3b82f6; }

/* Detail view */
.detail-view-mobile { flex:1; display:flex; flex-direction:column; padding:8px; }
.detail-header-mobile { display:flex; align-items:center; gap:10px; padding:6px 10px; background:#fff; position:sticky; top:0; z-index:8; box-shadow:0 2px 4px rgba(0,0,0,.06); }
.back-btn { background:#f1f5f9; border:none; width:34px; height:34px; border-radius:8px; font-size:18px; color:#334155; }
.detail-title { display:flex; align-items:center; gap:8px; font-size:.9rem; font-weight:600; color:#1e293b; }

.detail-grid { display:grid; grid-template-columns:repeat(7, 1fr); gap:4px; margin-top:8px; }
.weekday { text-align:center; font-size:.6rem; font-weight:600; color:#64748b; }
.detail-day { background:#f8fafc; min-height:70px; border-radius:8px; padding:4px; position:relative; display:flex; flex-direction:column; }
.detail-day.outside { background:#f1f5f9; color:#94a3b8; }
.detail-day.today { outline:2px solid #34D399; background:#34D399; color:#0f172a; }
.dnum { font-size:.65rem; font-weight:600; }
.events { margin-top:4px; display:flex; flex-direction:column; gap:3px; overflow:hidden; }
.event { font-size:.55rem; padding:2px 4px; border-radius:4px; color:#fff; line-height:1; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.event.ev-airbnb { background:#ef4444; }
.event.ev-booking { background:#3b82f6; }

.legend-mobile { display:flex; gap:12px; justify-content:center; margin:10px 0 30px; font-size:.6rem; color:#475569; }
.lg-item { display:flex; align-items:center; gap:4px; }
.lg-dot { width:14px; height:14px; border-radius:4px; display:inline-block; }
.lg-dot.booking { background:#3b82f6; }
.lg-dot.airbnb { background:#ef4444; }

/* Tooltip */
.day-tooltip { position:fixed; background:#fff; border:1px solid #e2e8f0; border-radius:10px; padding:8px 10px; box-shadow:0 4px 12px rgba(0,0,0,.15); z-index:100; transform:translateX(-50%); opacity:0; transition:opacity .2s ease; min-width:120px; }
.day-tooltip.show { opacity:1; }
.tooltip-content { display:flex; flex-direction:column; gap:4px; }
.tooltip-row { display:flex; justify-content:space-between; font-size:.65rem; }
.tooltip-label { font-weight:500; color:#475569; }
.tooltip-value { font-weight:600; color:#0f172a; }

.loading-state { padding:40px 20px; text-align:center; font-size:.9rem; color:#475569; }

/* Aumenta área de toque */
button, .day-cell { touch-action: manipulation; }

/* Ajuste de alinhamento do scroll horizontal para iniciar na mesma altura visual dos blocos */
.apartment-block { display:flex; flex-direction:column; }
.apt-header { min-height:32px; }
.days-row { padding-top:0; margin-top:4px; }
.day-cell { align-self:flex-start; }

/* Media queries para telas muito pequenas */
@media (max-width: 360px) {
	.day-cell { flex:0 0 40px; }
	.marker.full, .marker.duo { width:32px; }
	.month-title { font-size:.85rem; }
}

/* Oculta componente em telas grandes para forçar uso do desktop */
@media (min-width: 900px) {
	.mobile-calendar-wrapper { max-width:480px; margin:0 auto; }
}
